{"ast":null,"code":"var _jsxFileName = \"/Users/deepanshutyagi/Desktop/programs/Election_website/panel_admin/src/components/StudentVotingPage.js\",\n  _s = $RefreshSig$();\n// src/components/StudentVotingPage.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { db } from '../firebase';\nimport { collection, query, where, getDocs, doc, getDoc, addDoc, serverTimestamp, writeBatch } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StudentVotingPage() {\n  _s();\n  const {\n    positionId\n  } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [student, setStudent] = useState(null);\n  const [position, setPosition] = useState(null);\n  const [candidates, setCandidates] = useState([]);\n  const [selectedCandidates, setSelectedCandidates] = useState([]);\n  const [submitting, setSubmitting] = useState(false);\n\n  // Get email from local storage\n  const email = localStorage.getItem('studentEmail');\n\n  // Fetch position, candidates, and check eligibility\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!email || !positionId) {\n        navigate('/student/dashboard');\n        return;\n      }\n      try {\n        // Fetch student data\n        const studentsRef = collection(db, 'students');\n        const q = query(studentsRef, where(\"email\", \"==\", email));\n        const querySnapshot = await getDocs(q);\n        if (querySnapshot.empty) {\n          navigate('/student/profile');\n          return;\n        }\n        const studentDoc = querySnapshot.docs[0];\n        const studentData = {\n          id: studentDoc.id,\n          ...studentDoc.data()\n        };\n        setStudent(studentData);\n\n        // Check if election is active\n        const settingsDoc = await getDoc(doc(db, 'settings', 'election'));\n        if (!settingsDoc.exists() || !settingsDoc.data().active) {\n          setError('Elections are not currently active.');\n          setLoading(false);\n          return;\n        }\n\n        // Check if student has already voted for this position\n        const votesRef = collection(db, 'votes');\n        const votesQuery = query(votesRef, where(\"studentId\", \"==\", studentData.id), where(\"positionId\", \"==\", positionId));\n        const votesSnapshot = await getDocs(votesQuery);\n        if (!votesSnapshot.empty) {\n          setError('You have already voted for this position.');\n          setLoading(false);\n          return;\n        }\n\n        // Fetch position data\n        const positionDoc = await getDoc(doc(db, 'positions', positionId));\n        if (!positionDoc.exists()) {\n          setError('Position not found.');\n          setLoading(false);\n          return;\n        }\n        const positionData = {\n          id: positionDoc.id,\n          ...positionDoc.data()\n        };\n        setPosition(positionData);\n\n        // Check eligibility\n        const isEligibleByYear = positionData.category === studentData.year;\n        const isEligibleByDepartment = !positionData.departmentSpecific || positionData.department === studentData.department;\n        const isGenderEligible = !positionData.gender || positionData.gender === 'Any Gender' || positionData.gender === studentData.gender || positionData.gender === 'Gender Neutral';\n        if (!isEligibleByYear || !isEligibleByDepartment || !isGenderEligible) {\n          setError('You are not eligible to vote for this position.');\n          setLoading(false);\n          return;\n        }\n\n        // Fetch candidates for this position\n        const candidatesRef = collection(db, 'candidates');\n        const candidatesQuery = query(candidatesRef, where(\"position\", \"==\", positionData.name));\n        const candidatesSnapshot = await getDocs(candidatesQuery);\n        const candidatesList = candidatesSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setCandidates(candidatesList);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        setError('Failed to load voting data. Please try again later.');\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [email, positionId, navigate]);\n\n  // Handle candidate selection\n  const toggleCandidateSelection = candidateId => {\n    setSelectedCandidates(prev => {\n      // If candidate is already selected, remove them\n      if (prev.includes(candidateId)) {\n        return prev.filter(id => id !== candidateId);\n      }\n\n      // If not selected, check if we're at the max allowed selections\n      if (position && prev.length >= (position.vacancies || 1)) {\n        // Replace the last selection with the new one if only 1 selection allowed\n        if (position.vacancies === 1) {\n          return [candidateId];\n        }\n\n        // Otherwise, don't add if max reached\n        return prev;\n      }\n\n      // Add the new selection\n      return [...prev, candidateId];\n    });\n  };\n\n  // Submit votes\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!student || !position) {\n      setError('Missing student or position data.');\n      return;\n    }\n    if (selectedCandidates.length === 0) {\n      setError('Please select at least one candidate.');\n      return;\n    }\n    if (position.vacancies && selectedCandidates.length > position.vacancies) {\n      setError(`You can only select up to ${position.vacancies} candidate${position.vacancies > 1 ? 's' : ''}.`);\n      return;\n    }\n    setSubmitting(true);\n    setError('');\n    try {\n      // Use batch for multiple votes\n      const batch = writeBatch(db);\n\n      // Create a vote document for each selected candidate\n      for (const candidateId of selectedCandidates) {\n        const voteRef = doc(collection(db, 'votes'));\n        batch.set(voteRef, {\n          studentId: student.id,\n          positionId: position.id,\n          candidateId: candidateId,\n          timestamp: serverTimestamp()\n        });\n      }\n\n      // Commit the batch\n      await batch.commit();\n\n      // Show success message and redirect after delay\n      setSuccess(true);\n      setTimeout(() => {\n        navigate('/student/dashboard');\n      }, 2000);\n    } catch (error) {\n      console.error(\"Error submitting votes:\", error);\n      setError('Failed to submit votes. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-700\",\n          children: \"Loading voting data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this);\n  }\n  if (success) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-6 w-6 text-green-600\",\n            fill: \"none\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M5 13l4 4L19 7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-4 text-lg font-medium text-gray-900\",\n          children: \"Vote Submitted Successfully!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-500\",\n          children: \"Thank you for participating in the election.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/student/dashboard\",\n            className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n            children: \"Return to Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-100 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-6 w-6 text-red-600\",\n            fill: \"none\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: \"2\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-4 text-lg font-medium text-gray-900\",\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-sm text-gray-500\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/student/dashboard\",\n            className: \"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n            children: \"Return to Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-blue-900 text-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 py-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: \"College Election System\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: (student === null || student === void 0 ? void 0 : student.name) || 'Student'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              className: \"h-6 w-6 text-gray-600\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto bg-white rounded-lg shadow-md overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 border-b border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold text-gray-900\",\n            children: [\"Vote for \", position === null || position === void 0 ? void 0 : position.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-gray-600\",\n            children: [position === null || position === void 0 ? void 0 : position.category, \" \", position !== null && position !== void 0 && position.department ? `- ${position.department}` : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 bg-blue-50 rounded-md p-4 flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-5 w-5 text-blue-400\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 20 20\",\n                fill: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fillRule: \"evenodd\",\n                  d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\",\n                  clipRule: \"evenodd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-3\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-700\",\n                children: [\"Select up to \", (position === null || position === void 0 ? void 0 : position.vacancies) || 1, \" candidate\", (position === null || position === void 0 ? void 0 : position.vacancies) > 1 ? 's' : '', \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-medium text-gray-900 mb-4\",\n              children: \"Candidates\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), candidates.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-center py-4\",\n              children: \"No candidates available for this position.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: candidates.map(candidate => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 rounded-lg border ${selectedCandidates.includes(candidate.id) ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'} cursor-pointer transition-colors`,\n                onClick: () => toggleCandidateSelection(candidate.id),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold\",\n                      children: candidate.name.split(' ').map(n => n[0]).join('')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"ml-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"text-lg font-medium text-gray-900\",\n                        children: candidate.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 333,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm text-gray-500\",\n                        children: [candidate.department || (position === null || position === void 0 ? void 0 : position.department), \", \", candidate.year || (position === null || position === void 0 ? void 0 : position.category)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"relative\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `w-6 h-6 rounded-full border-2 flex items-center justify-center ${selectedCandidates.includes(candidate.id) ? 'border-blue-500 bg-blue-500' : 'border-gray-300 bg-white'}`,\n                      children: selectedCandidates.includes(candidate.id) && /*#__PURE__*/_jsxDEV(\"svg\", {\n                        className: \"w-4 h-4 text-white\",\n                        fill: \"currentColor\",\n                        viewBox: \"0 0 20 20\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          fillRule: \"evenodd\",\n                          d: \"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\",\n                          clipRule: \"evenodd\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 349,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 348,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this), candidate.manifesto && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 pl-16\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"Manifesto:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 29\n                    }, this), \" \", candidate.manifesto]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 25\n                }, this)]\n              }, candidate.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/student/dashboard\",\n              className: \"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n              children: \"Back to Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: submitting || selectedCandidates.length === 0,\n              className: `inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${submitting || selectedCandidates.length === 0 ? 'bg-blue-300 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500'}`,\n              children: submitting ? 'Submitting...' : 'Submit Vote'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentVotingPage, \"a2dEnx3i0PxFJayFNreXZWdyluc=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = StudentVotingPage;\nexport default StudentVotingPage;\nvar _c;\n$RefreshReg$(_c, \"StudentVotingPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","db","collection","query","where","getDocs","doc","getDoc","addDoc","serverTimestamp","writeBatch","jsxDEV","_jsxDEV","StudentVotingPage","_s","positionId","navigate","loading","setLoading","error","setError","success","setSuccess","student","setStudent","position","setPosition","candidates","setCandidates","selectedCandidates","setSelectedCandidates","submitting","setSubmitting","email","localStorage","getItem","fetchData","studentsRef","q","querySnapshot","empty","studentDoc","docs","studentData","id","data","settingsDoc","exists","active","votesRef","votesQuery","votesSnapshot","positionDoc","positionData","isEligibleByYear","category","year","isEligibleByDepartment","departmentSpecific","department","isGenderEligible","gender","candidatesRef","candidatesQuery","name","candidatesSnapshot","candidatesList","map","console","toggleCandidateSelection","candidateId","prev","includes","filter","length","vacancies","handleSubmit","e","preventDefault","batch","voteRef","set","studentId","timestamp","commit","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fill","strokeLinecap","strokeLinejoin","strokeWidth","viewBox","stroke","d","to","xmlns","fillRule","clipRule","onSubmit","candidate","onClick","split","n","join","manifesto","type","disabled","_c","$RefreshReg$"],"sources":["/Users/deepanshutyagi/Desktop/programs/Election_website/panel_admin/src/components/StudentVotingPage.js"],"sourcesContent":["// src/components/StudentVotingPage.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { db } from '../firebase';\nimport { \n  collection, \n  query, \n  where, \n  getDocs, \n  doc, \n  getDoc, \n  addDoc, \n  serverTimestamp, \n  writeBatch\n} from 'firebase/firestore';\n\nfunction StudentVotingPage() {\n  const { positionId } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [student, setStudent] = useState(null);\n  const [position, setPosition] = useState(null);\n  const [candidates, setCandidates] = useState([]);\n  const [selectedCandidates, setSelectedCandidates] = useState([]);\n  const [submitting, setSubmitting] = useState(false);\n\n  // Get email from local storage\n  const email = localStorage.getItem('studentEmail');\n\n  // Fetch position, candidates, and check eligibility\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!email || !positionId) {\n        navigate('/student/dashboard');\n        return;\n      }\n\n      try {\n        // Fetch student data\n        const studentsRef = collection(db, 'students');\n        const q = query(studentsRef, where(\"email\", \"==\", email));\n        const querySnapshot = await getDocs(q);\n\n        if (querySnapshot.empty) {\n          navigate('/student/profile');\n          return;\n        }\n\n        const studentDoc = querySnapshot.docs[0];\n        const studentData = {\n          id: studentDoc.id,\n          ...studentDoc.data()\n        };\n        setStudent(studentData);\n\n        // Check if election is active\n        const settingsDoc = await getDoc(doc(db, 'settings', 'election'));\n        if (!settingsDoc.exists() || !settingsDoc.data().active) {\n          setError('Elections are not currently active.');\n          setLoading(false);\n          return;\n        }\n\n        // Check if student has already voted for this position\n        const votesRef = collection(db, 'votes');\n        const votesQuery = query(votesRef, \n          where(\"studentId\", \"==\", studentData.id),\n          where(\"positionId\", \"==\", positionId)\n        );\n        const votesSnapshot = await getDocs(votesQuery);\n        \n        if (!votesSnapshot.empty) {\n          setError('You have already voted for this position.');\n          setLoading(false);\n          return;\n        }\n\n        // Fetch position data\n        const positionDoc = await getDoc(doc(db, 'positions', positionId));\n        \n        if (!positionDoc.exists()) {\n          setError('Position not found.');\n          setLoading(false);\n          return;\n        }\n\n        const positionData = {\n          id: positionDoc.id,\n          ...positionDoc.data()\n        };\n        setPosition(positionData);\n\n        // Check eligibility\n        const isEligibleByYear = positionData.category === studentData.year;\n        const isEligibleByDepartment = !positionData.departmentSpecific || \n                                      positionData.department === studentData.department;\n        const isGenderEligible = !positionData.gender || \n                                  positionData.gender === 'Any Gender' || \n                                  positionData.gender === studentData.gender ||\n                                  positionData.gender === 'Gender Neutral';\n\n        if (!isEligibleByYear || !isEligibleByDepartment || !isGenderEligible) {\n          setError('You are not eligible to vote for this position.');\n          setLoading(false);\n          return;\n        }\n\n        // Fetch candidates for this position\n        const candidatesRef = collection(db, 'candidates');\n        const candidatesQuery = query(candidatesRef, where(\"position\", \"==\", positionData.name));\n        const candidatesSnapshot = await getDocs(candidatesQuery);\n        \n        const candidatesList = candidatesSnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n\n        setCandidates(candidatesList);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n        setError('Failed to load voting data. Please try again later.');\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [email, positionId, navigate]);\n\n  // Handle candidate selection\n  const toggleCandidateSelection = (candidateId) => {\n    setSelectedCandidates(prev => {\n      // If candidate is already selected, remove them\n      if (prev.includes(candidateId)) {\n        return prev.filter(id => id !== candidateId);\n      }\n      \n      // If not selected, check if we're at the max allowed selections\n      if (position && prev.length >= (position.vacancies || 1)) {\n        // Replace the last selection with the new one if only 1 selection allowed\n        if (position.vacancies === 1) {\n          return [candidateId];\n        }\n        \n        // Otherwise, don't add if max reached\n        return prev;\n      }\n      \n      // Add the new selection\n      return [...prev, candidateId];\n    });\n  };\n\n  // Submit votes\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!student || !position) {\n      setError('Missing student or position data.');\n      return;\n    }\n\n    if (selectedCandidates.length === 0) {\n      setError('Please select at least one candidate.');\n      return;\n    }\n\n    if (position.vacancies && selectedCandidates.length > position.vacancies) {\n      setError(`You can only select up to ${position.vacancies} candidate${position.vacancies > 1 ? 's' : ''}.`);\n      return;\n    }\n\n    setSubmitting(true);\n    setError('');\n\n    try {\n      // Use batch for multiple votes\n      const batch = writeBatch(db);\n      \n      // Create a vote document for each selected candidate\n      for (const candidateId of selectedCandidates) {\n        const voteRef = doc(collection(db, 'votes'));\n        \n        batch.set(voteRef, {\n          studentId: student.id,\n          positionId: position.id,\n          candidateId: candidateId,\n          timestamp: serverTimestamp()\n        });\n      }\n      \n      // Commit the batch\n      await batch.commit();\n      \n      // Show success message and redirect after delay\n      setSuccess(true);\n      setTimeout(() => {\n        navigate('/student/dashboard');\n      }, 2000);\n    } catch (error) {\n      console.error(\"Error submitting votes:\", error);\n      setError('Failed to submit votes. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-700\">Loading voting data...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (success) {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n        <div className=\"bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center\">\n          <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100\">\n            <svg className=\"h-6 w-6 text-green-600\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path d=\"M5 13l4 4L19 7\"></path>\n            </svg>\n          </div>\n          <h3 className=\"mt-4 text-lg font-medium text-gray-900\">Vote Submitted Successfully!</h3>\n          <p className=\"mt-2 text-sm text-gray-500\">\n            Thank you for participating in the election.\n          </p>\n          <div className=\"mt-6\">\n            <Link to=\"/student/dashboard\" className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\">\n              Return to Dashboard\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\n        <div className=\"bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center\">\n          <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100\">\n            <svg className=\"h-6 w-6 text-red-600\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"></path>\n            </svg>\n          </div>\n          <h3 className=\"mt-4 text-lg font-medium text-gray-900\">Error</h3>\n          <p className=\"mt-2 text-sm text-gray-500\">{error}</p>\n          <div className=\"mt-6\">\n            <Link to=\"/student/dashboard\" className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\">\n              Return to Dashboard\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 flex flex-col\">\n      {/* Header */}\n      <header className=\"bg-blue-900 text-white\">\n        <div className=\"container mx-auto px-4 py-4 flex justify-between items-center\">\n          <h1 className=\"text-2xl font-bold\">College Election System</h1>\n          <div className=\"flex items-center space-x-4\">\n            <span>{student?.name || 'Student'}</span>\n            <div className=\"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <div className=\"flex-1 p-6\">\n        <div className=\"max-w-6xl mx-auto bg-white rounded-lg shadow-md overflow-hidden\">\n          {/* Voting Header */}\n          <div className=\"p-6 border-b border-gray-200\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              Vote for {position?.name}\n            </h1>\n            <p className=\"mt-1 text-gray-600\">\n              {position?.category} {position?.department ? `- ${position.department}` : ''}\n            </p>\n            \n            <div className=\"mt-4 bg-blue-50 rounded-md p-4 flex items-start\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-blue-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-blue-700\">\n                  Select up to {position?.vacancies || 1} candidate{position?.vacancies > 1 ? 's' : ''}.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* Candidates List */}\n          <form onSubmit={handleSubmit}>\n            <div className=\"p-6\">\n              <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Candidates</h2>\n              \n              {candidates.length === 0 ? (\n                <p className=\"text-gray-500 text-center py-4\">No candidates available for this position.</p>\n              ) : (\n                <div className=\"space-y-4\">\n                  {candidates.map(candidate => (\n                    <div \n                      key={candidate.id} \n                      className={`p-4 rounded-lg border ${\n                        selectedCandidates.includes(candidate.id) \n                          ? 'border-blue-500 bg-blue-50' \n                          : 'border-gray-200 hover:border-gray-300'\n                      } cursor-pointer transition-colors`}\n                      onClick={() => toggleCandidateSelection(candidate.id)}\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          <div className=\"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold\">\n                            {candidate.name.split(' ').map(n => n[0]).join('')}\n                          </div>\n                          <div className=\"ml-4\">\n                            <h3 className=\"text-lg font-medium text-gray-900\">{candidate.name}</h3>\n                            <p className=\"text-sm text-gray-500\">\n                              {candidate.department || position?.department}, {candidate.year || position?.category}\n                            </p>\n                          </div>\n                        </div>\n                        <div className=\"relative\">\n                          <div \n                            className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${\n                              selectedCandidates.includes(candidate.id)\n                                ? 'border-blue-500 bg-blue-500' \n                                : 'border-gray-300 bg-white'\n                            }`}\n                          >\n                            {selectedCandidates.includes(candidate.id) && (\n                              <svg className=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                              </svg>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                      \n                      {candidate.manifesto && (\n                        <div className=\"mt-2 pl-16\">\n                          <p className=\"text-sm text-gray-600\">\n                            <span className=\"font-medium\">Manifesto:</span> {candidate.manifesto}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Bottom Controls */}\n            <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-between\">\n              <Link \n                to=\"/student/dashboard\" \n                className=\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Back to Dashboard\n              </Link>\n              \n              <button \n                type=\"submit\"\n                disabled={submitting || selectedCandidates.length === 0}\n                className={`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ${\n                  submitting || selectedCandidates.length === 0 \n                    ? 'bg-blue-300 cursor-not-allowed' \n                    : 'bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500'\n                }`}\n              >\n                {submitting ? 'Submitting...' : 'Submit Vote'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default StudentVotingPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}